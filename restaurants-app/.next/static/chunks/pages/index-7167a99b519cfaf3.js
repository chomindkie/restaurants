(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9483)}])},9483:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return D}});var n=t(5893),r=t(6154);async function s(e){return await r.Z.post("http://localhost:8443/restaurants-service/v1/find",{keyword:e})}t(4265);var i=t(7294),c=t(3238),l=t.n(c),d=t(4184),o=t.n(d),m=t(9141),u=t.n(m);let p=e=>{let{title:a,rating:t,image:r,onClick:s}=e,i=()=>{let e=document.getElementById("google-map-section");e&&e.scrollIntoView({behavior:"smooth"}),s&&s()};return console.log("Card Render"),(0,n.jsx)("div",{className:o()([u().wrapper,u().wrapperAnime]),onClick:i,children:(0,n.jsxs)("div",{className:u().header,children:[(0,n.jsx)("div",{className:u().imageWrapper,children:(0,n.jsx)("img",{src:r||"/image/default.jpg",className:u().image,alt:""})}),(0,n.jsxs)("div",{className:u().textWrapper,children:[(0,n.jsx)("div",{className:u().badgeWrapper,children:(0,n.jsx)("div",{className:o()([u().primaryBadge,u().badgeAnime]),children:(0,n.jsx)("span",{className:o()([u().counter,"group-hover:text-gray"]),children:"⭐️ "+t})})}),(0,n.jsx)("h1",{className:u().text,children:"".concat(a)})]})]})})};var h=(0,i.memo)(p),x=function(e){let{restaurants:a,handlerTarget:t}=e,r=e=>(0,i.useCallback)(function(){t(e.placeId)},[]);return(0,n.jsx)("main",{className:l().section,children:(0,n.jsx)("section",{className:l().container,children:(0,n.jsx)("div",{className:l().layout,children:a.map(e=>(0,n.jsx)(h,{title:e.name,rating:e.rating,image:e.image,onClick:r(e)},e.placeId))})})})},g=t(9583);let _=e=>{let{handlerSearch:a,handlerKeyword:t}=e,r=e=>{e.preventDefault(),console.log(e.target.keyword.value),a(e.target.keyword.value),t(e.target.keyword.value)};return(0,n.jsx)("div",{className:"relative items-center w-4/5 flex justify-center sm:w-3/5 md:w-3/5",children:(0,n.jsxs)("div",{className:"relative w-full",children:[(0,n.jsxs)("div",{className:"absolute top-5 left-3",children:[(0,n.jsx)("div",{className:"fa fa-search text-gray-400 z-20 hover:text-gray-500"}),(0,n.jsx)(g.U41,{})]}),(0,n.jsxs)("form",{onSubmit:r,children:[(0,n.jsx)("input",{className:"block h-14 w-full pl-10 pr-20 rounded-lg z-0 focus:shadow focus:outline-none rounded-lg",type:"text",placeholder:"Bang Sue",name:"keyword"}),(0,n.jsx)("div",{className:"absolute top-2 right-2",children:(0,n.jsx)("button",{className:"h-10 w-20 text-white rounded-lg bg-[#810000] hover:bg-red-600",children:"Search"})})]})]})})};var j=t(1561),f=t.n(j);function v(){return(0,n.jsxs)("div",{className:f().loader,children:[(0,n.jsx)("div",{className:f().animateItem,children:(0,n.jsx)("img",{src:"/image/hamburger.png"})}),(0,n.jsx)("div",{className:f().animateItem,children:(0,n.jsx)("img",{src:"/image/bacon.png"})}),(0,n.jsx)("div",{className:f().animateItem,children:(0,n.jsx)("img",{src:"/image/sushi.png"})})]})}var N=t(7054),w=t(4020),y=t.n(w);function C(e){return console.log("-- MAP LOAD --- "),(0,n.jsx)("div",{className:y().map_container,id:"google-map-section",children:(0,n.jsx)(b,{...e})})}function b(e){let{restaurants:a,area:t,handlerTarget:r,target:s}=e;return(0,n.jsx)(N.b6,{zoom:15,center:t,mapContainerStyle:{width:"100%",height:"100%"},children:a.map(function(e,a){return(0,n.jsxs)(i.Fragment,{children:[s===e.placeId&&(0,n.jsx)(N.Rj,{position:e.location,mapPaneName:N.xT.OVERLAY_MOUSE_TARGET,children:(0,n.jsx)("div",{class:"font-sans",style:{width:200,height:200},children:(0,n.jsxs)("a",{className:"block rounded-xl bg-[#810000] p-1 sm:p-2 lg:p-4",children:[(0,n.jsx)("h3",{className:"text-lg font-normal text-white sm:text-sm",children:"\uD83D\uDE0B "+e.name}),(0,n.jsx)("p",{className:"mt-2 text-xs font-extralight text-gray-300",children:e.vicinity}),(0,n.jsx)("div",{className:"mt-2 font-normal text-xs text-white ",onClick:()=>window.open("https://www.google.com/maps/search/?api=1&query=".concat(e.name,"&query_place_id=").concat(e.placeId),"_blank"),children:"\uD83D\uDDFA️ View on google map"})]})})}),(0,n.jsx)(N.jC,{position:e.location,label:"\uD83C\uDF7D️",onClick:function(){r(e.placeId)}})]},e.placeId)})})}function D(){let[e,a]=(0,i.useState)([]),[t,r]=(0,i.useState)({}),[c,d]=(0,i.useState)(!1),[o,m]=(0,i.useState)(),[u,p]=(0,i.useState)(),{isLoaded:h}=(0,N.Db)({googleMapsApiKey:"AIzaSyCFFIi3_KvhZY72EVpJUXzKSH00pOjBC7s"});async function g(){await f("Bang Sue")}function j(e){m(function(a){return a===e?"":e})}async function f(e){d(!0);try{""===e&&(e="Bang Sue");let t=await s(e);if("SUCCESS"!=t.data.status.code){a([]);return}console.log(t.data.data),a(t.data.data.restaurants),r(t.data.data.area)}catch(e){console.error(e)}finally{d(!1)}}return(0,i.useEffect)(function(){g()},[]),h?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:(0,n.jsx)("title",{children:"Find Restaurants"})}),(0,n.jsx)("div",{className:l().header,children:(0,n.jsx)("h1",{children:" \uD83C\uDF55\uD83C\uDF5F Find Restaurants \uD83C\uDF5C\uD83C\uDF7F"})}),(0,n.jsx)("div",{className:"relative items-center justify-center flex",children:(0,n.jsx)(_,{handlerSearch:f,handlerKeyword:function(e){p(e)}})}),c?(0,n.jsx)("div",{className:"mt-20",children:(0,n.jsx)(v,{})}):e.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{restaurants:e,area:t,handlerTarget:j,target:o}),(0,n.jsx)("div",{className:l().section,children:(0,n.jsx)(x,{restaurants:e,handlerTarget:j})})]}):(0,n.jsx)("div",{className:"relative justify-center flex mt-20 text-xl",children:(0,n.jsx)("h1",{children:"'".concat(u,"' not found")})})]}):null}t(1664),t(9008)},3238:function(e){e.exports={section:"App_section__J_weJ",layout:"App_layout__OyvEl",header:"App_header__kD6M4"}},9141:function(e){e.exports={wrapper:"Card_wrapper__E0vcf",wrapperAnime:"Card_wrapperAnime__AVZQU",header:"Card_header__HFHvi",imageWrapper:"Card_imageWrapper__caxNB",image:"Card_image__thm_y",textWrapper:"Card_textWrapper__9LsRy",text:"Card_text__jO2is",badgeWrapper:"Card_badgeWrapper__ZTUdN",dangerBadge:"Card_dangerBadge__sbN_W",primaryBadge:"Card_primaryBadge__JBvVX",counter:"Card_counter__UtbPT",badgeAnime:"Card_badgeAnime__1Vha5"}},1561:function(e){e.exports={loader:"Loading_loader__07A4B",animateItem:"Loading_animateItem__047_B",spin:"Loading_spin__SULcZ"}},4020:function(e){e.exports={map_container:"Location_map_container__x01od"}}},function(e){e.O(0,[445,255,751,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);